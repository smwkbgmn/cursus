NAME		= push_swap

CC			= cc
FLAG		= -Wall -Wextra -Werror -I $(DIR_LIBFT)/include

DIR_LIBFT	= ../1_archive/libft

SRCS		= $(wildcard *.c)
OBJS		= $(SRCS:.c=.o)

LIBFT		= $(DIR_LIBFT)/libft.a

all			: $(NAME)

$(NAME)		: $(LIBFT) $(OBJS)
			$(CC) $(FLAG) $(LIBFT) $(OBJS) -o $@

%.o			: %.c
			$(CC) $(FLAG) -c $< -o $@

# %.o			: %.c
# 			$(CC) $(FLAG) -c $< -o $@

$(LIBFT)	:
			$(MAKE) -C $(DIR_LIBFT) all

clean		:
			$(RM) $(OBJS)
			$(MAKE) -C $(DIR_LIBFT) clean

fclean		:
			make clean
			$(RM) $(NAME) $(LIBFT)

re			:
			make fclean
			make all

.PHONY		: all celan fclean re

# TEST_INPUT	= 2 1 3 6 5 8
# TEST_INPUT	= 6 2 5 1 8 3
TEST_INPUT	= 15 9 8 1 4 11 7 12 13 6 5 3 16 2 10 14
# TEST_INPUT	= 2 1 3 6 5 8 9 11 10 44 95 24
# TEST_INPUT	= 321 534 317 199 580 678 436 363 586 125 186 660 503 8 476 316 146 7 625 393 502 422 198 628 174 460 658 662 516 222 340 408 633 484 653 172 634 465 13 638 311 291 637 491 588 135 294 276 389 354 346 255 188 564 526 469 601 645 195 115 485 202 176 589 292 413 630 375 507 565 447 570 253 359 498 286 129 18 677 452 237 285 631 138 270 692 91 22 364 264 240 505 676 66 298 179 401 550 5 416 576 423 263 249 355 532 35 557 323 391 19 618 599 68 203 537 544 467 510 192 546 163 500 339 591 656 496 461 101 2 472 685 400 53 529 273 289 180 380 78 548 497 670 657 200 59 441 111 621 524 499 64 183 665 191 275 592 137 597 3 92 161 238 464 67 218 639 106 696 451 327 248 60 535 488 605 312 650 17 455 194 155 290 602 649 76 258 306 55 189 36 466 127 94 313 473 385 552 421 88 103 494 481 151 152 293 288 566 80 456 331 395 453 349 387 213 555 326 21 458 371 583 119 120 335 235 462 89 635 431 33 72 24 521 246 173 262 370 268 367 616 506 444 82 57 475 1 329 11 675 435 208 689 304 655 632 397 328 556 572 114 527 279 181 162 205 169 419 553 663 517 153 593 322 680 559 596 6 661 366 372 54 578 109 690 164 540 226 99 39 636 123 405 282 171 61 52 424 182 95 533 624 611 437 590 234 666 392 609 377 541 197 224 217 216 160 672 386 257 428 274 243 513 297 471 353 113 32 228 438 236 25 229 271 429 73 344 448 71 86 654 75 412 579 31 562 446 569 239 612 300 442 427 686 147 190 124 166 361 433 479 626 81 457 145 508 105 403 357 122 398 12 42 518 454 607 58 133 683 38 410 694 450 643 90 406 43 10 509 156 85 542 272 148 175 159 62 223 41 241 168 396 79 100 482 74 116 242 47 269 144 118 622 30 409 324 531 252 209 688 318 232 63 627 207 483 332 463 402 671 215 204 110 256 330 519 23 420 432 470 610 682 459 360 687 233 425 132 277 245 615 165 210 651 149 140 430 384 37 34 14 558 49 567 418 178 244 27 310 644 646 325 693 388 698 585 167 334 187 573 220 314 128 551 214 568 695 305 623 536 352 543 9 69 221 301 108 659 575 157 480 381 295 489 16 266 185 351 667 382 495 337 98 647 302 87 280 549 399 523 40 184 520 130 338 642 525 563 594 700 230 604 545 196 641 107 684 158 598 44 434 283 15 414 308 691 299 376 356 315 265 390 603 606 267 407 26 350 679 250 141 134 136 522 56 150 97 29 478 379 319 443 201 46 600 417 206 177 512 70 93 378 561 225 287 278 170 619 582 260 620 373 296 131 83 439 411 501 547 261 247 539 486 614 669 640 468 336 415 474 126 342 365 487 571 404 348 259 374 51 104 674 121 584 613 504 648 369 664 45 48 538 668 587 309 347 333 530 673 251 4 320 617 681 697 577 426 490 341 231 345 211 368 102 154 142 515 449 227 477 28 307 652 84 112 394 574 343 493 193 383 284 254 511 212 581 96 281 77 143 608 219 492 50 528 560 629 514 445 440 362 554 117 699 358 20 303 595 65 139
# TEST_INPUT	= 8 09 2849 2810 938 2930 8 2 10 9 2839 34 29 38 0 93 817 8 9 04 2 38 0 

test		: $(NAME)
			@./$(NAME) $(TEST_INPUT)
			@$(RM) $(NAME)